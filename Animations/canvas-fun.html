<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="Description" content="#"> <!-- (Example: description to be displayed on Search Engine) -->
  <meta name="Author" content="#"> <!-- (example: Developers Name) -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Canvas Fun</title>

<!-- ====== Stylesheets ======= -->
  <!-- Bootstrap.css -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <!-- Custom CSS -->
  <style>
  </style>
</head>

<body>

<!-- ======= Content ======= -->
<!-- jQuery.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
<canvas id="c" width="400" height="400"></canvas>
	
<div>
	<button id="doge">Doge</button>
	<button id="meme">Meme Me</button>

	<button id="fillRect">Draw a square</button>
	<button id="strokeRect">Draw another square</button>
	<button id="strokeTri">Triangle outline</button>
	<button id="fillTri">Triangle fill</button>
	<button id="inception">Inception square</button>
	<button id="clear">Clear All</button>
</div>

<script>
$(function() {
		/* ======== Canvas ======= */
		var c = document.querySelector("#c");
		var ctx = c.getContext("2d");
		
		/* ======== Buttons ======= */
		$('#doge').click(function() {
			dogeMaker();
		});
		$('#fillRect').click(function() {
			fillRectangle();
		});
		$('#strokeRect').click(function() {
			strokeRectangle();
		});
		$('#strokeTri').click(function() {
			makeTriangle();
			ctx.stroke();
		});
		$('#fillTri').click(function() {
			makeTriangle();
			ctx.fill();
		});
		$('#inception').click(function() {
			inception();
		});
		$('#clear').click(function() {
			clearCanvas();
			ctx.strokeStyle = "black";
			ctx.fillStyle = "black";
		});
		$('#meme').click(function() {
			memeText();
		});

		/* ======== Functions ======= */
		function fillRectangle() {
			// Create a square starting at coordinates (100, 100) that is 100 x 100 px
			ctx.fillRect(100, 100, 100, 100);
		}
		function strokeRectangle() {
			// Create a square starting at coordinates (50, 50) that is 50 x 50 px
			ctx.strokeRect(50, 50, 50, 50);
		}
		function makeTriangle() {
			// Begin drawing on the canvas 
			ctx.beginPath();
			ctx.moveTo(10,10);
			// Draw a triangle
			ctx.lineTo(50,50);
			ctx.lineTo(50,10);
			ctx.lineTo(10,10);
		}
		function inception() {
			// First square
			ctx.strokeRect(50, 50, 100, 100);
			// Triangle inside square
			ctx.moveTo(75,75);
			ctx.lineTo(125,125);
			ctx.lineTo(125,75);
			ctx.fill();
		}
		function clearCanvas() {
			ctx.clearRect(0,0,c.width,c.height);
		}
		function memeText() {
			ctx.font = "36px Impact";
			ctx.textAlign = "center";

			ctx.fillStyle = "white";
			ctx.fillText("CANVAS MEMES!", c.width / 2, 40)
			ctx.fillText("CANVAS MEMES!", c.width / 2, 380)

			ctx.strokeStyle = "black";
			ctx.lineWidth = 2;
			ctx.strokeText("CANVAS MEMES!", c.width / 2, 40);
			ctx.strokeText("CANVAS MEMES!", c.width / 2, 380);
		}
		
		/* ======== Image Maker ======= */
		
		function dogeMaker() {
			var image = new Image();

			image.onload = function() {
				console.log("loaded image");
				ctx.drawImage(image, 0, 0, c.width, c.height);
				var savedImage = c.toDataURL();
				window.open(savedImage);
			}

			image.src = 'https://pbs.twimg.com/profile_images/417201275466690560/TzVjIXv2.jpeg';	
		}
	});
	</script>
	
</body>
</html>